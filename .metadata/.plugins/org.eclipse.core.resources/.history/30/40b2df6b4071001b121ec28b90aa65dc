
#include <stdio.h>
#include <stdlib.h>
#include <string.h>


char string1[]= "Vive CY CErgy Paris Universiteeee!";
int count_e(char* tab);
int count_e_asm(char* tab);
int nb_e_c, taille;

int main (void){
	taille = strlen(string1);
	//Init Tab Content randomly
	nb_e_c = count_e(string1);
	
	
	int success = count_e_asm(string1);
	
	//Infinite loop
	while(1){
		
	}
	
	return 0;
}

int count_e(char* tab){  
	/*A COMPLETER */
	int nb_e_c = 0;
	char ch;
	for(int i=0 ; i < strlen(string1) ; i++)
	{
		ch = string1[i];
		if(string1[i] == 'e')
			nb_e_c = nb_e_c + 1;
	}
	asm("LDR r0,=nb_e_c");
	asm("LDR r0,[r0]");
}

int count_e_asm(char* tab){
/*A COMPLETER */
	asm("LDR r3,=nb_e_c"
		"LDR r3, [r3]\n\t"
	);
	asm("LDR r4,=taille"
			"LDR r4, [r4]\n\t"
		);
	asm("LDR r0, =string1\n\t"
		"MOV r2, #0\n\t"
	"loop:\n\t"
		"LDRB r1, [r0,r2]\n\t"
		"CMP r1, #101\n\t"
		"BNE check_cpt\n\t"
		"ADD r3,r3,#1\n\t"
	"check_cpt:\n\t"
		"ADD r2,r2,#1\n\t"
		"CMP r2,#\n\t"
		"B loop\n\t"

	);
//	asm("...");
	
 			 
	return 0;
}
